[tools]
node = "lts"

[tasks.dev]
description = "Start the development server"
run = "npm run dev"

[tasks.build]
description = "Build for production"
run = "npm run build"

[tasks.start]
description = "Start production server"
run = "npm run start"

[tasks.lint]
description = "Run ESLint and fix issues"
run = "npm run lint -- --fix"

[tasks.test]
description = "Run tests"
run = "npm test"

[tasks."test:watch"]
description = "Run tests in watch mode"
run = "npm run test:watch"

[tasks."test:coverage"]
description = "Run tests with coverage report"
run = "npm run test:coverage"

[tasks."db:generate"]
description = "Generate Prisma Client"
run = "npm run db:generate"

[tasks."db:push"]
description = "Push schema changes to database"
run = "npm run db:push"

[tasks."db:migrate"]
description = "Run database migrations"
run = "npm run db:migrate"

[tasks."db:studio"]
description = "Open Prisma Studio"
run = "npm run db:studio"

[tasks.install]
description = "Install dependencies"
run = "npm install"

[tasks.setup]
description = "Initial project setup"
run = [
  "mise run install",
  "mise run db:generate",
  "mise run db:push"
]

[tasks."db:reset"]
description = "Reset the database (delete and recreate)"
run = [
  "rm -f prisma/dev.db",
  "mise run db:generate",
  "mise run db:push"
]

