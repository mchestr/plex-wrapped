# Database
# PostgreSQL connection string
# Format: postgresql://[user]:[password]@[host]:[port]/[database]?schema=public
# For local development with Docker: postgresql://postgres:postgres@localhost:5432/plex_wrapped?schema=public
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/plex_wrapped?schema=public"

# Redis
# Redis connection string for caching and session storage
# Format: redis://[user]:[password]@[host]:[port]/[database]
# For local development with Docker: redis://localhost:6379
REDIS_URL="redis://localhost:6379"

# Application URL Configuration
# NEXT_PUBLIC_APP_URL is used for public-facing URLs (sharing links, OG images, etc.)
# NEXTAUTH_URL is required by NextAuth.js for OAuth callbacks and session management
# In production, set both to your domain (e.g., https://yourdomain.com)
# For development, localhost is fine
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"

# Plex Authentication
# No OAuth credentials needed - Plex uses PIN-based authentication
# PLEX_CLIENT_IDENTIFIER should be a unique identifier for your application instance
# It can be any string (doesn't need to be a UUID)
PLEX_CLIENT_IDENTIFIER=""

# Test Authentication (for E2E tests)
# Enable test token authentication for Playwright E2E tests
# WARNING: Never enable this in production! Only for development/testing
# NEXT_PUBLIC_ENABLE_TEST_AUTH="true"

# Discord Bot / Linked Roles
# ENABLE_DISCORD_BOT="true"  # Set to "false" to disable bot attempts (default: enabled)
#                            # Uses distributed database lock - only one pod will run the bot automatically
# DISCORD_BOT_POLL_INTERVAL_MS=60000  # How often to poll for lock availability (default: 60000 = 1 minute)
# DISCORD_BOT_TOKEN="discord-bot-token"
# DISCORD_SUPPORT_CHANNEL_ID="123456789012345678"
# DISCORD_SUPPORT_THREAD_IDS="123456789012345678,234567890123456789"
# DISCORD_PORTAL_URL="https://yourdomain.com/discord/link"  # Optional: defaults to NEXT_PUBLIC_APP_URL/discord/link
# PLEX_WRAPPED_BASE_URL="https://yourdomain.com"  # Only needed for external API access (bot uses direct function calls)

# =============================================================================
# DEVELOPMENT DEFAULTS FOR SETUP WIZARD
# =============================================================================
#
# SECURITY WARNING: These DEV_* variables are ONLY read in development mode
# (NODE_ENV=development). They are completely ignored in production.
#
# IMPORTANT SECURITY NOTES:
# - Never commit real API keys or tokens to version control
# - These values are stored in plaintext and may appear in logs
# - For production, always use the setup wizard UI to configure services
# - If you use these for local development, ensure your .env is in .gitignore
#
# HOW IT WORKS:
# - DEV_* variables pre-populate the setup wizard forms
# - Set DEV_SETUP_AUTO_SUBMIT=true for zero-click setup (forms auto-submit)
# - A warning banner appears in the UI when dev defaults are active
# =============================================================================

# Auto-submit: Enable zero-click setup wizard (requires all fields populated)
# DEV_SETUP_AUTO_SUBMIT="true"

# -----------------------------------------------------------------------------
# Service Configuration Defaults
# -----------------------------------------------------------------------------
# URL format: include protocol and port (e.g., https://localhost:32400)

# Plex Server
DEV_PLEX_NAME="My Plex Server"
DEV_PLEX_URL="https://localhost:32400"
DEV_PLEX_TOKEN=""
# DEV_PLEX_PUBLIC_URL=""                      # Optional: public-facing URL for links

# Tautulli
DEV_TAUTULLI_NAME="My Tautulli Server"
DEV_TAUTULLI_URL="http://localhost:8181"
DEV_TAUTULLI_API_KEY=""
# DEV_TAUTULLI_PUBLIC_URL=""                  # Optional: public-facing URL for links

# Overseerr
DEV_OVERSEERR_NAME="My Overseerr Server"
DEV_OVERSEERR_URL="http://localhost:5055"
DEV_OVERSEERR_API_KEY=""
# DEV_OVERSEERR_PUBLIC_URL=""                 # Optional: public-facing URL for links

# Sonarr
DEV_SONARR_NAME="My Sonarr Server"
DEV_SONARR_URL="http://localhost:8989"
DEV_SONARR_API_KEY=""
# DEV_SONARR_PUBLIC_URL=""                    # Optional: public-facing URL for links

# Radarr
DEV_RADARR_NAME="My Radarr Server"
DEV_RADARR_URL="http://localhost:7878"
DEV_RADARR_API_KEY=""
# DEV_RADARR_PUBLIC_URL=""                    # Optional: public-facing URL for links

# -----------------------------------------------------------------------------
# Discord Integration Defaults
# -----------------------------------------------------------------------------
# DEV_DISCORD_ENABLED="false"                 # Enable Discord linked roles
# DEV_DISCORD_BOT_ENABLED="false"             # Enable Discord bot functionality
# DEV_DISCORD_CLIENT_ID=""                    # Discord application client ID
# DEV_DISCORD_CLIENT_SECRET=""                # Discord application client secret
# DEV_DISCORD_GUILD_ID=""                     # Restrict to specific Discord server
# DEV_DISCORD_SERVER_INVITE_CODE=""           # Discord server invite code
# DEV_DISCORD_PLATFORM_NAME=""                # Display name (default: "Plex Wrapped")
# DEV_DISCORD_INSTRUCTIONS=""                 # Internal admin notes

# -----------------------------------------------------------------------------
# LLM Provider Defaults
# -----------------------------------------------------------------------------
# Generic LLM settings (used as fallback for both Chat and Wrapped)
DEV_LLM_PROVIDER="openai"
DEV_LLM_API_KEY=""
DEV_LLM_MODEL=""

# Chat Assistant AI (admin troubleshooting chatbot)
# These override the generic DEV_LLM_* settings for the chat purpose
# DEV_CHAT_LLM_PROVIDER="openai"
# DEV_CHAT_LLM_API_KEY=""
# DEV_CHAT_LLM_MODEL="gpt-4o-mini"
# DEV_CHAT_LLM_TEMPERATURE="0.7"              # 0.0-2.0, controls randomness
# DEV_CHAT_LLM_MAX_TOKENS="1000"              # Max tokens in response

# Wrapped Generation AI (Plex Wrapped story generation)
# These override the generic DEV_LLM_* settings for the wrapped purpose
# DEV_WRAPPED_LLM_PROVIDER="openai"
# DEV_WRAPPED_LLM_API_KEY=""
# DEV_WRAPPED_LLM_MODEL="gpt-4o"
# DEV_WRAPPED_LLM_TEMPERATURE="0.8"           # 0.0-2.0, controls randomness
# DEV_WRAPPED_LLM_MAX_TOKENS="6000"           # Max tokens in response

# LLM Request Timeout (optional)
# Timeout in milliseconds for LLM API calls (default: 300000 = 5 minutes)
# Increase this if you're experiencing timeout errors with complex prompts
# LLM_REQUEST_TIMEOUT_MS=300000

# Logging Level (optional)
# Controls the verbosity of logs: error, warn, info, verbose, debug, silly
# Defaults to "debug" in development, "info" in production
# Set to "info" to turn off debug logs
# LOG_LEVEL="info"

